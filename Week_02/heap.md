# 堆和二叉堆的实现和特性

堆（ Heap ）是指可以顺序找到一堆数中的最大值或者最小值的数据结构。将根节点最大的堆叫做大顶堆或大根堆，根节点最小的堆叫做小顶堆或小根堆。常见的堆有二叉堆，斐波拉契堆等。

⚠️ 注意：要么最大值、要么最小值

假设是大顶堆，则常见的操作（API）：
- find-max O(1)
- delete-max O(logN)
- insert/create O(logN) or O(1)

二叉堆是堆（优先队列 priority_queue )的一种常见且简单的实现，但是并不是最优的实现。

**使用场景：**

1. 任务流，不断的执行优先级最高的任务

## 二叉堆性质
1. 通过完全二叉树来实现（ ⚠️ 不是二叉搜索树 ）
2. 二叉堆（大顶）满足下列性质：
  a. 是一颗完全树 🌲
  b. 树的任意节点的值总是 >= 其节点的值

## 二叉堆实现细节
1. 二叉堆一般都通过“数组”来实现
2. 假设“第一个元素”在数组的索引为 0，则父节点和子节点的关系如下
  a. 索引为 i 的左孩子的索引是  2*i + 1
  b. 索引为 i 的右孩子的索引是  2*i + 2
  c. 索引为 i 的父节点的索引是  floor((i-1)/2)

**insert 插入操作**

1. 新元素一律先插入到堆的尾部
2. 依次向上调整整个堆的结构（一直到根）

**Delete Max 删除堆顶操作**

1. 将堆尾元素替换到顶部（即对顶被替代删除掉）
2. 依次从根部向下调整整个堆结构（一直到堆尾）

